<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>circle distance</title>
<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
<script>
	var stage;
	var rcircle, ycircle;
	var roffset, yoffset;
	var dist;
	
	function init () {
		//Create a stage by getting a reference to the canvas
    stage = new createjs.Stage("canvas");
    //Create a Shape DisplayObject.
    rcircle = new createjs.Shape();
	ycircle = new createjs.Shape();
    rcircle.graphics.beginFill("red").drawCircle(0, 0, 40);
	ycircle.graphics.beginFill("#FF9900").drawCircle(0, 0, 40);
   
    rcircle.x = 100;
    rcircle.y = 100;
	
	ycircle.x = 200;
	ycircle.y = 100;
		
	stage.addChild(rcircle);
	stage.addChild(ycircle);
	
	dist = new createjs.Text("", "15px Arial", "#FF0000");
	stage.addChild(dist);
	dist.lineHeight = 17;
	dist.lineWidth = 57;
	
	rcircle.addEventListener("mousedown", rhandleOffset);
	function rhandleOffset () {
		
		    roffset = {x:rcircle.x - stage.mouseX, y:rcircle.y - stage.mouseY};
		    
	}
	rcircle.addEventListener("pressmove", rhandleDrag);
	function rhandleDrag() {
		   
			rcircle.x = stage.mouseX+roffset.x;
			rcircle.y = stage.mouseY+roffset.y;
			stage.update();
	}
	ycircle.addEventListener("mousedown", yhandleOffset);
	function yhandleOffset () {
		
		    yoffset = {x:ycircle.x - stage.mouseX, y:ycircle.y - stage.mouseY};
		    
	}
	ycircle.addEventListener("pressmove", yhandleDrag);
	function yhandleDrag() {
		   
			ycircle.x = stage.mouseX+yoffset.x;
			ycircle.y = stage.mouseY+yoffset.y;
			stage.update();
	}
	
    stage.update();
	
	createjs.Ticker.setFPS(60);
	//Update stage will render next frame
    createjs.Ticker.addEventListener("tick", handleDist);
     

	}

 function handleDist()
   {

   var diffX = rcircle.x - ycircle.x;
   var diffY = rcircle.y - ycircle.y;
   
   var distance = Math.round(Math.sqrt(diffX*diffX+diffY*diffY));
       dist.text = distance;
    
    if(distance<=60){
        rcircle.alpha = 0.2;
        ycircle.alpha = 0.2;
    }
    else{
        rcircle.alpha = 1;
        ycircle.alpha = 1;
    }
   stage.update();
   }
    

</script>

</head>

<body onload="init()">
 <canvas id="canvas" width="640" height="480" ></canvas>
</body>
</html>
